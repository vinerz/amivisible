var AMIVisible=function(){var e,n,t,i=[],l=function(e){var n=e.getBoundingClientRect(),t=n.top,i=n.height,e=e.parentNode;do{if(n=e.getBoundingClientRect(),t<=n.bottom==!1)return!1;if(t+i<=n.top)return!1;e=e.parentNode}while(e!=document.body);return t<=document.documentElement.clientHeight&&t+i>0},o=function(){var i=90,l=(new Date).getTime();e||(l-n>3*i&&(b(),n=l,t=document.body.scrollTop),e=setTimeout(function(){e=null,n=(new Date).getTime();var i=document.body.scrollTop;i!==t&&b(),t=i},i))},a=function(e){if(l(e.element)){if("visible"!==e.lastState){var n=new CustomEvent("appear",{bubbles:e.enable_bubbling,cancelable:!0});e.element.dispatchEvent(n),e.lastState="visible"}}else if("invisible"!==e.lastState){var n=new CustomEvent("disappear",{bubbles:e.enable_bubbling,cancelable:!0});e.element.dispatchEvent(n),e.lastState="invisible"}},b=function(){for(var e=0,n=i.length;e<n;e++)a(i[e])};return window.addEventListener("scroll",o),window.addEventListener("resize",o),{monitor:function(e,n){if(n.force_process=n.force_process||!1,n.enable_bubbling=n.enable_bubbling||!1,e){var t={element:e,lastState:null,enable_bubbling:n.enable_bubbling};i.push(t),n.force_process&&a(t)}}}}();